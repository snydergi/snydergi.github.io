<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>7-DOF Food Preparation - Grayson Snyder</title>
<meta name="description" content="ROS2, MoveIt, RealSense">


  <meta name="author" content="Grayson Snyder">
  
  <meta property="article:author" content="Grayson Snyder">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Grayson Snyder">
<meta property="og:title" content="7-DOF Food Preparation">
<meta property="og:url" content="http://localhost:4000/portfolio_featured/toastbot/">


  <meta property="og:description" content="ROS2, MoveIt, RealSense">



  <meta property="og:image" content="http://localhost:4000/assets/images/projectImages/toastImages/toast_grab_cropped.gif">





  <meta property="article:published_time" content="2025-08-29T00:36:57-05:00">






<link rel="canonical" href="http://localhost:4000/portfolio_featured/toastbot/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



<link href="/feed.xml"
  type="application/atom+xml" rel="alternate" title="Grayson Snyder Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style"
  onload="this.onload=null;this.rel='stylesheet'">
<link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico">
<noscript>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">
</noscript>


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->



  </head>

  <body class="layout--single wide">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Grayson Snyder
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/">Portfolio</a>
            </li><li class="masthead__menu-item">
              <a href="/resume/">Resume</a>
            </li><li class="masthead__menu-item">
              <a href="/about/">About</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  
    <div class="author__avatar">
      <a href="http://localhost:4000/">
        <img src="/assets/images/misc/Headshot.jpg" alt="Grayson Snyder" itemprop="image" class="u-photo">
      </a>
    </div>
  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="http://localhost:4000/" itemprop="url">Grayson Snyder</a>
    </h3>
    
      <div class="author__bio p-note" itemprop="description">
        <p>MS in Robotics @ Northwestern</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      
        
          
            <li><a href="" rel="nofollow noopener noreferrer me"><i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i><span class="label">Evanston, IL</span></a></li>
          
        
          
            <li><a href="https://github.com/snydergi" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="mailto:grasnyder2001@gmail.com" rel="nofollow noopener noreferrer me"><i class="fa fa-fw fa-envelope" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/graysonsnyder/" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  <!-- Moved TOC HERE from single.html -->
  
          <aside class="sidebar__right ">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#featured-video">Featured Video</a></li><li><a href="#project-objective">Project Objective</a><ul><li><a href="#collaborators">Collaborators</a></li></ul></li><li><a href="#outline">Outline</a><ul><li><a href="#moveit-api">MoveIt API</a></li><li><a href="#workspace-planning">Workspace Planning</a></li><li><a href="#computer-vision">Computer Vision</a></li><li><a href="#multi-threaded-executor">Multi-Threaded Executor</a></li></ul></li><li><a href="#source-code">Source code</a></li></ul>

            </nav>
          </aside>
  
  </div>



  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="7-DOF Food Preparation">
    <meta itemprop="description" content="ROS2, MoveIt, RealSense">
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title p-name" itemprop="headline">
            <a href="http://localhost:4000/portfolio_featured/toastbot/" class="u-url" itemprop="url">7-DOF Food Preparation
</a>
          </h1>
          


        </header>
      

      <section class="page__content e-content" itemprop="text">
        <!-- Moved TOC to sidebar.html -->
        <h2 id="featured-video">Featured Video</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/XGcdhWRo-iU?si=2WTV-TyIyLdX8AVo?autoplay=1" title="Featured Video" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>

<h2 id="project-objective">Project Objective</h2>
<p>The goal of this project, more simply referred to as ToastBot, was to use an Emika Franka Panda robot arm to pick up a piece of bread, put it in a toaster, start the toaster, and place it on a plate.</p>

<h3 id="collaborators">Collaborators</h3>

<p>This project was done in collaboration with the following students:</p>

<ul>
  <li>Sharwin Patil (<a href="https://github.com/Sharwin24">https://github.com/Sharwin24</a>)</li>
  <li>Asa Rogers (<a href="https://github.com/asarogers">https://github.com/asarogers</a>)</li>
  <li>Tony Shilati (<a href="https://github.com/tony-shilati">https://github.com/tony-shilati</a>)</li>
</ul>

<h2 id="outline">Outline</h2>

<h3 id="moveit-api">MoveIt API</h3>

<p>Prior to the start of the ToastBot project, the group developed an API to to simply interface new ROS2 nodes with the Emika Franka Panda robotâ€™s MoveIt package. The API consists of three main subcomponents: RobotState, ScenePlanner, and MotionPlanner. The three are abstracted within the MotionPlanningInterface, which can be imported into ROS2 nodes to make motion requests of the robot arm.</p>

<details>
<summary><b>Subcomponent Breakdown</b></summary>
<br />
<p>The ScenePlanner component can be used to update the move group planning scene. It allows users to add and remove boxes, attach and detach collision objects from the end effector, and load multiple collision objects at once. It is capable of adding objects of different shapes and dimensions as specified by the user for each function. Use of the ScenePlanner is critical particularly in instances where the robot is grasping a solid object and must plan paths around obstacles, accounting for said object in its grasp.</p>

<p>The RobotState component performs forward and inverse kinematic caluclations for the Emika Franka Panda robot arm for use in determining current or desired poses, or the angles required to achieve them.</p>

<p>The MotionPlanner component contains the bulk of the API's functionality. It provides utilities to plan, execute, and manage robot trajectories using joint configurations, Cartesian paths, and predefined named configurations. Additionally, it allows for control of the robot end-effector. The MotionPlanner serves as a ROS2 Action Client to he MoveGroup node running on the robot arm.</p>

<p>The key components of the API used in the ToastBot project are the RobotState and MotionPlanner.</p>

</details>

<h3 id="workspace-planning">Workspace Planning</h3>

<p>With limited workspace, designing and arranging the components of the task was an important consideration. To aid in this, we created many 3d-printed fixtures including a bread holder, toaster lever extension, plate, brush holder, and butter dish holder. Each model was designed to have a slot for an April Tag such that offsets to points of interest on the model would be quick to determine. In early stages of the project, a virtual recreation of the scene using the MoveItAPI ScenePlanner was considered, but due to the reliability of the April Tag positioning and the desired poses, collisions were not of major concern and it was ultimately unused.</p>

<h3 id="computer-vision">Computer Vision</h3>

<p>Vision was a key aspect to the success of this project. We used an Intel RealSense D435i camera mounted outside the workspace of the arm on a tripod to capture the entire scene. With the camera in place, we used April Tags to create transforms between each object in the scene and the robot.</p>

<h3 id="multi-threaded-executor">Multi-Threaded Executor</h3>

<p>The multi-threaded executor was the last piece of the project needed to tie everything together. The toasting process was initiated using a ROS2 service call, but after the lever was pressed we needed a reliable method to detect when the toaster popped and the process could continue. To accomplish this, first a node was created that published the April Tag transform updates, with subscribers in the main node to listen to each topic so that the transforms would continue to be updated regardless of the main nodes processes. Then, we created a state machine in the node to watch for when the transform of the lever April Tag changed from its lowered position back to the original position, indicating that the toast popped. With this, the executor then takes over calling the remaining asynchronous functions required to lift the toast from the toaster and place it on the plate. Without the executor, the code began â€˜hangingâ€™ during the process.</p>

<h2 id="source-code">Source code</h2>
<p><a href="https://github.com/snydergi/ToastBot">Github Repository</a></p>

        
      </section>

      <footer class="page__meta">
        
        


        

      </footer>

      <section class="page__share">
  

  <!-- <a href="https://twitter.com/intent/tweet?text=7-DOF+Food+Preparation%20http%3A%2F%2Flocalhost%3A4000%2Fportfolio_featured%2Ftoastbot%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fportfolio_featured%2Ftoastbot%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a> -->

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fportfolio_featured%2Ftoastbot%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/portfolio_featured/synthetic_therapist/" class="pagination--pager" title="Synthetic Therapist Exoskeleton with LSTM
">Previous</a>
    
    
      <a href="/portfolio_featured/undergradResearch/" class="pagination--pager" title="Low-Cost Position-Controllable Planar Arm
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://github.com/snydergi" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 Grayson Snyder. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
